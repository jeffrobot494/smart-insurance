{
    "workflow": {
      "name": "PE firm research",
      "description": "Research workflow to find portfolio companies of a private equity firm",
      "tasks": [
        {
          "id": 1,
          "name": "FindDomain",
          "instructions": "Find the website domain for the given private equity firm name. Return just the domain URL (e.g., 'www.example.com'). Use web search to find their official website. Respond with only the domain name.",
          "inputKeys": ["input"],
          "outputKey": "domain"
        },
        {
          "id": 2,
          "name": "MapDomain", 
          "instructions": "Create a sitemap of all pages on the given domain. Use web crawling tools to discover all accessible pages. Once you have the list of URLs, make a final response that is only the URLs.",
          "inputKeys": ["domain"],
          "outputKey": "sitemap"
        },
        {
          "id": 3,
          "name": "FindPortfolioPage",
          "instructions": "Analyze the sitemap and identify which pages are most likely to contain information about portfolio companies. Look for URLs containing words like 'portfolio', 'investments', 'companies', 'holdings'. Respond with only the relevant URLs.",
          "inputKeys": ["sitemap"],
          "outputKey": "portfolio_pages"
        },
        {
          "id": 4,
          "name": "ExtractCompanies",
          "instructions": "From the provided input, extract the names of active/current portfolio companies if possible. If the site distinguishes between active/current and exited/inactive companies, return only the active/current ones. If not, return all companies. Rules: 1. Always prioritize finding a single 'portfolio' or 'companies' page that lists all portfolio companies. 2. Scrape individual company pages only if there are fewer than 10 total. If there are 20 or more, ignore individual pages. 3. If a portfolio page mixes current and exited companies, include only current/active ones when possible. 4. Pay close attention to wording that indicates companies are exited, inactive, or former. Exclude these. 5. If active vs. exited cannot be distinguished, return all companies. Output format: Return only a JSON object with the keys 'firm' and 'companies'. Example: { \"firm\": \"American Discovery Capital\", \"companies\": [\"Bubba Gump Shrimp\", \"Nintendo of America\", \"Peeboy Food Cans\"] }",
          "inputKeys": ["portfolio_pages", "domain"],
          "outputKey": "portfolio_companies",
          "maxIterations": 50
        }
      ]
    }
  }