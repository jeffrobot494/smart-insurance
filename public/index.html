<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Insurance</title>
    <link rel="stylesheet" href="css/app.css">
</head>
<body>
    <div class="app-header">
        <h1>Smart Insurance</h1>
    </div>
    
    <div class="header">
        <div class="tab active" id="work-tab" data-tab="work">New Work</div>
        <div class="tab" id="saved-tab" data-tab="saved">Completed</div>
    </div>

    <div class="container">
        <!-- New Work Tab Content -->
        <div id="work-tab-content" class="tab-content active">
            <!-- Input Section -->
            <div class="input-section">
                <div class="input-row">
                    <input type="text" id="firm-names-input" placeholder="Enter firm names here (comma separated)">
                </div>
                <div class="upload-area" id="upload-area">
                    <div>üìÅ Upload a list of firms here</div>
                    <div style="font-size: 12px; color: #666; margin-top: 5px;">Drag & drop or click to browse</div>
                    <input type="file" id="file-input" accept=".csv,.txt" style="display: none;">
                </div>
                <div class="button-row">
                    <button class="btn btn-primary" id="create-pipelines-btn">Create Pipelines</button>
                    <button class="btn btn-secondary" id="clear-btn">Clear</button>
                    <label style="display: flex; align-items: center; margin-left: 20px;">
                        <input type="checkbox" class="checkbox" id="auto-complete-checkbox" checked> Auto-complete workflow
                    </label>
                </div>
            </div>

            <!-- Pipeline Results Container -->
            <div id="pipeline-results">
                <!-- Pipeline cards will be inserted here dynamically -->
            </div>
        </div>

        <!-- Completed Tab Content -->
        <div id="saved-tab-content" class="tab-content">
            <div class="page-header">
                <h2>Completed Pipelines</h2>
                <p>View and manage your completed pipeline results</p>
            </div>

            <!-- Completed Pipeline Results Container -->
            <div id="saved-pipeline-results">
                <!-- Completed pipeline cards will be inserted here dynamically -->
            </div>

            <!-- Pagination Container -->
            <div id="pagination-container">
                <!-- Pagination component will be inserted here dynamically -->
            </div>
        </div>


        <!-- Loading Overlay -->
        <div id="loading-overlay" class="loading-overlay" style="display: none;">
            <div class="loading-spinner"></div>
            <div class="loading-text">Processing...</div>
        </div>
    </div>

    <!-- JavaScript Files -->
    <script src="js/utils.js"></script>
    <script src="js/api.js"></script>
    
    <!-- Base Components -->
    <script src="js/components/base/BaseComponent.js"></script>
    <!-- StatusPollingManager skipped for initial refactor -->

    <!-- Pipeline Components -->
    <script src="js/components/pipeline/PipelineHeader.js"></script>
    <script src="js/components/pipeline/PipelineStats.js"></script>
    <script src="js/components/pipeline/ProgressInfo.js"></script>
    <script src="js/components/pipeline/ActionButtons.js"></script>
    <script src="js/components/pipeline/PipelineCard.js"></script>

    <!-- Pagination Components -->
    <script src="js/components/pagination/PaginationComponent.js"></script>

    <!-- Company Components -->
    <script src="js/components/company/CompanyHeader.js"></script>
    <script src="js/components/company/CompanyDetails.js"></script>
    <script src="js/components/company/Form5500Card.js"></script>
    <script src="js/components/company/CompanyCard.js"></script>
    <script src="js/components/company/CompanyList.js"></script>

    <!-- Form Components -->
    <script src="js/components/forms/AddCompanyForm.js"></script>
    <script src="js/components/forms/ReportConfigModal.js"></script>

    <!-- Enhanced Notification Manager -->
    <script src="js/components/NotificationManager.js"></script>

    <!-- Report Generation Services -->
    <script src="js/services/DataProcessingService.js"></script>
    <script src="js/services/HTMLReportService.js"></script>
    <script src="js/services/ExcelExportService.js"></script>
    <script src="js/services/TemplateLoader.js"></script>
    <script src="js/services/PDFConversionService.js"></script>
    <script src="js/services/PDFConversionService_Vector.js"></script>
    <script src="js/services/PDFConversionService_Manual.js"></script>
    <script src="js/services/ReportGenerationService.js"></script>

    <!-- Other Services -->
    <script src="js/services/PollingService.js"></script>
    <script src="js/services/PipelinePoller.js"></script>

    <!-- Main Manager -->
    <script src="js/pipeline-cards.js"></script>
    
    <script src="js/tabs.js"></script>
    <script src="js/company-manager.js"></script>
    <script src="js/report-manager.js"></script>
    <script src="js/app.js"></script>
</body>
</html>